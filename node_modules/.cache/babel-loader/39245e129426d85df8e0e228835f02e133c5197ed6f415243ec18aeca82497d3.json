{"ast":null,"code":"var _jsxFileName = \"/Users/acecanacan/my-react-app/src/components/GenerateQuestions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://api.openai.com/v1/chat/completions';\nconst API_KEY = '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'; // Replace with your actual API key\n\nconst GenerateQuestions = ({\n  datasetDescription,\n  columnInfo\n}) => {\n  _s();\n  const [generatedQuestions, setGeneratedQuestions] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const generateDataVisualizationPrompt = () => {\n    return `Dataset description: ${datasetDescription}. Columns: ${Object.entries(columnInfo).map(([k, v]) => `${k} - ${v}`).join(', ')}. ` + \"'Distribution', 'Relationship', 'Composition', 'Comparison'\" + \"Hey ChatGPT, your goal here is that given this set of information about the dataset. You are tasked to create questions about it that can be answered through data visualization practices in Python. Each question should have a sample code in Python on how it can be inputted to a Jupyter Notebook.\" + \"It is imperative that EACH QUESTION has A SAMPLE CODE. \" + \"These are the types of analyses that should be outputted. At least one question will be generated per analysis type. More may be generated if possible. \" + \"Make a set of questions per each type. For example, output questions that are based on distribution. And output another set of questions for relationship. \" + \"I emphasize that each question needs to have its own block of code. \" + \"Assume that the dataset is loaded into a pandas DataFrame named 'df'. \" + \"Make a block of code that will include all the codes for prerequisites. Such as importing necessary libraries and loading the file from a CSV file.\";\n  };\n  const generateMLModelPrompt = () => {\n    return `Dataset description: ${datasetDescription}. Columns: ${Object.entries(columnInfo).map(([k, v]) => `${k} - ${v}`).join(', ')}. ` + \"What potential data cleaning issues might arise and how would you solve them? \" + \"Generate Python code for each type of data cleaning. \" + \"Print them in Python block codes.\";\n  };\n  const generateContent = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    const prompt = promptType === 'questions' ? generateDataVisualizationPrompt() : generateMLModelPrompt();\n    try {\n      const systemMessage = {\n        role: 'system',\n        content: prompt\n      };\n      const response = await axios.post(API_URL, {\n        model: 'gpt-3.5-turbo',\n        messages: [systemMessage]\n      }, {\n        headers: {\n          Authorization: `Bearer ${API_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setGeneratedContent(response.data.choices[0].message.content.trim());\n    } catch (e) {\n      setError('An error occurred.');\n    }\n    setLoading(false);\n  }, [promptType, datasetDescription, columnInfo, all_interpretations, column_interpretation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setPromptType('questions');\n        generateContent();\n      },\n      children: \"Generate Questions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setPromptType('mlModel');\n        generateContent();\n      },\n      children: \"Generate Machine Learning Model\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }, this), generatedContent && /*#__PURE__*/_jsxDEV(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: generatedContent.replace(/\\n/g, '<br />').replace(/```python/g, '<pre>').replace(/```/g, '</pre>')\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(GenerateQuestions, \"v4uLxqMz+Yc3UMwLHjoF73N9k5E=\");\n_c = GenerateQuestions;\nexport default GenerateQuestions;\nvar _c;\n$RefreshReg$(_c, \"GenerateQuestions\");","map":{"version":3,"names":["React","useState","useCallback","axios","jsxDEV","_jsxDEV","API_URL","API_KEY","GenerateQuestions","datasetDescription","columnInfo","_s","generatedQuestions","setGeneratedQuestions","loading","setLoading","error","setError","generateDataVisualizationPrompt","Object","entries","map","k","v","join","generateMLModelPrompt","generateContent","prompt","promptType","systemMessage","role","content","response","post","model","messages","headers","Authorization","setGeneratedContent","data","choices","message","trim","e","all_interpretations","column_interpretation","children","onClick","setPromptType","fileName","_jsxFileName","lineNumber","columnNumber","generatedContent","dangerouslySetInnerHTML","__html","replace","_c","$RefreshReg$"],"sources":["/Users/acecanacan/my-react-app/src/components/GenerateQuestions.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'https://api.openai.com/v1/chat/completions';\nconst API_KEY = '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'; // Replace with your actual API key\n\nconst GenerateQuestions = ({ datasetDescription, columnInfo }) => {\n  const [generatedQuestions, setGeneratedQuestions] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const generateDataVisualizationPrompt = () => {\n    return `Dataset description: ${datasetDescription}. Columns: ${Object.entries(columnInfo).map(([k, v]) => `${k} - ${v}`).join(', ')}. ` +\n           \"'Distribution', 'Relationship', 'Composition', 'Comparison'\" +\n           \"Hey ChatGPT, your goal here is that given this set of information about the dataset. You are tasked to create questions about it that can be answered through data visualization practices in Python. Each question should have a sample code in Python on how it can be inputted to a Jupyter Notebook.\" +\n           \"It is imperative that EACH QUESTION has A SAMPLE CODE. \" +\n           \"These are the types of analyses that should be outputted. At least one question will be generated per analysis type. More may be generated if possible. \" +\n           \"Make a set of questions per each type. For example, output questions that are based on distribution. And output another set of questions for relationship. \" +\n           \"I emphasize that each question needs to have its own block of code. \" +\n           \"Assume that the dataset is loaded into a pandas DataFrame named 'df'. \" +\n           \"Make a block of code that will include all the codes for prerequisites. Such as importing necessary libraries and loading the file from a CSV file.\";\n  };\n\n  const generateMLModelPrompt = () => {\n    return `Dataset description: ${datasetDescription}. Columns: ${Object.entries(columnInfo).map(([k, v]) => `${k} - ${v}`).join(', ')}. ` +\n           \"What potential data cleaning issues might arise and how would you solve them? \" +\n           \"Generate Python code for each type of data cleaning. \" +\n           \"Print them in Python block codes.\";\n  };\n\n  const generateContent = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    const prompt = (promptType === 'questions') ? generateDataVisualizationPrompt() : generateMLModelPrompt();\n    \n    try {\n      const systemMessage = {\n        role: 'system',\n        content: prompt,\n      };\n      const response = await axios.post(\n        API_URL,\n        {\n          model: 'gpt-3.5-turbo',\n          messages: [systemMessage],\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${API_KEY}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n      setGeneratedContent(response.data.choices[0].message.content.trim());\n    } catch (e) {\n      setError('An error occurred.');\n    }\n    setLoading(false);\n  }, [promptType, datasetDescription, columnInfo, all_interpretations, column_interpretation]);\n\n  return (\n    <div>\n      <button onClick={() => { setPromptType('questions'); generateContent(); }}>Generate Questions</button>\n      <button onClick={() => { setPromptType('mlModel'); generateContent(); }}>Generate Machine Learning Model</button>\n      {loading && <p>Loading...</p>}\n      {generatedContent && (\n        <div dangerouslySetInnerHTML={{__html: generatedContent.replace(/\\n/g, '<br />').replace(/```python/g, '<pre>').replace(/```/g, '</pre>')}} />\n      )}\n      {error && <p>{error}</p>}\n    </div>\n  );\n};\n\nexport default GenerateQuestions;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}