{"ast":null,"code":"var _jsxFileName = \"/Users/acecanacan/my-react-app/src/components/GenerateQuestions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://api.openai.com/v1/chat/completions';\nconst API_KEY = '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'; // Replace with your actual API key\n\nconst GenerateQuestions = ({\n  datasetDescription,\n  columnInfo\n}) => {\n  _s();\n  const [generatedQuestions, setGeneratedQuestions] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const generatePrompt = () => {\n    return `Dataset description: ${datasetDescription}. Columns: ${Object.entries(columnInfo).map(([k, v]) => `${k} - ${v}`).join(', ')}. ` + \"'Distribution', 'Relationship', 'Composition', 'Comparison'\" + \"Hey ChatGPT, your goal here is that given this set of information about the dataset. You are tasked to create questions about it that can be answered through data visualization practices in Python. Each question should have a sample code in Python on how it can be inputted to a Jupyter Notebook.\" + \"It is imperative that EACH QUESTION has A SAMPLE CODE. \" + \"These are the types of analyses that should be outputted. At least one question will be generated per analysis type. More may be generated if possible. \" + \"Make a set of questions per each type. For example, output questions that are based on distribution. And output another set of questions for relationship. \" + \"I emphasize that each question needs to have its own block of code. \" + \"Assume that the dataset is loaded into a pandas DataFrame named 'df'. \" + \"Make a block of code that will include all the codes for prerequisites. Such as importing necessary libraries and loading the file from a CSV file.\";\n  };\n  const generateQuestions = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const prompt = generatePrompt();\n      const systemMessage = {\n        role: 'system',\n        content: prompt\n      };\n      const response = await axios.post(API_URL, {\n        model: 'gpt-3.5-turbo',\n        messages: [systemMessage]\n      }, {\n        headers: {\n          Authorization: `Bearer ${API_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setGeneratedQuestions(response.data.choices[0].message.content.trim());\n    } catch (e) {\n      setError('An error occurred while generating questions.');\n    }\n    setLoading(false);\n  }, [datasetDescription, columnInfo]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: generateQuestions,\n      children: \"Generate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading questions...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this), generatedQuestions && /*#__PURE__*/_jsxDEV(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: generatedQuestions.replace(/\\n/g, '<br />').replace(/```python/g, '<pre>').replace(/```/g, '</pre>')\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(GenerateQuestions, \"RVjJMbNE3NQ7EY4AJlecpGQ4KJw=\");\n_c = GenerateQuestions;\nexport default GenerateQuestions;\nvar _c;\n$RefreshReg$(_c, \"GenerateQuestions\");","map":{"version":3,"names":["React","useState","useCallback","axios","jsxDEV","_jsxDEV","API_URL","API_KEY","GenerateQuestions","datasetDescription","columnInfo","_s","generatedQuestions","setGeneratedQuestions","loading","setLoading","error","setError","generatePrompt","Object","entries","map","k","v","join","generateQuestions","prompt","systemMessage","role","content","response","post","model","messages","headers","Authorization","data","choices","message","trim","e","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","dangerouslySetInnerHTML","__html","replace","_c","$RefreshReg$"],"sources":["/Users/acecanacan/my-react-app/src/components/GenerateQuestions.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'https://api.openai.com/v1/chat/completions';\nconst API_KEY = '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'; // Replace with your actual API key\n\nconst GenerateQuestions = ({ datasetDescription, columnInfo }) => {\n  const [generatedQuestions, setGeneratedQuestions] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const generatePrompt = () => {\n    return `Dataset description: ${datasetDescription}. Columns: ${Object.entries(columnInfo).map(([k, v]) => `${k} - ${v}`).join(', ')}. ` +\n           \"'Distribution', 'Relationship', 'Composition', 'Comparison'\" +\n           \"Hey ChatGPT, your goal here is that given this set of information about the dataset. You are tasked to create questions about it that can be answered through data visualization practices in Python. Each question should have a sample code in Python on how it can be inputted to a Jupyter Notebook.\" +\n           \"It is imperative that EACH QUESTION has A SAMPLE CODE. \" +\n           \"These are the types of analyses that should be outputted. At least one question will be generated per analysis type. More may be generated if possible. \" +\n           \"Make a set of questions per each type. For example, output questions that are based on distribution. And output another set of questions for relationship. \" +\n           \"I emphasize that each question needs to have its own block of code. \" +\n           \"Assume that the dataset is loaded into a pandas DataFrame named 'df'. \" +\n           \"Make a block of code that will include all the codes for prerequisites. Such as importing necessary libraries and loading the file from a CSV file.\";\n  };\n\n  const generateQuestions = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const prompt = generatePrompt();\n      const systemMessage = {\n        role: 'system',\n        content: prompt,\n      };\n      const response = await axios.post(\n        API_URL,\n        {\n          model: 'gpt-3.5-turbo',\n          messages: [systemMessage],\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${API_KEY}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n      setGeneratedQuestions(response.data.choices[0].message.content.trim());\n    } catch (e) {\n      setError('An error occurred while generating questions.');\n    }\n    setLoading(false);\n  }, [datasetDescription, columnInfo]);\n\n  return (\n    <div>\n      <button onClick={generateQuestions}>Generate</button>\n      {loading && <p>Loading questions...</p>}\n      {generatedQuestions && (\n        <div dangerouslySetInnerHTML={{__html: generatedQuestions.replace(/\\n/g, '<br />').replace(/```python/g, '<pre>').replace(/```/g, '</pre>')}} />\n      )}\n      {error && <p>{error}</p>}\n    </div>\n  );\n  \n};\n\nexport default GenerateQuestions;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}